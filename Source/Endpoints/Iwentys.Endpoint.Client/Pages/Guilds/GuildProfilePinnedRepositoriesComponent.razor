@using Iwentys.Features.Guilds.ViewModels.Guilds
@using Iwentys.Integrations.GithubIntegration.Models

@namespace Iwentys.Endpoint.Client.Pages.Guilds

<div class="text-center">
    <MatHeadline5>Репозитории</MatHeadline5>

    <div class="container-fluid d-flex flex-column">
        @foreach (GithubRepository repository in GuildProfile.PinnedRepositories)
        {
            <NavLink href=@repository.Url>
                <MatNavItem class="d-flex flex-row justify-content-md-between">
                    <div class="col-md-10">
                        <MatHeadline6>@repository.Name</MatHeadline6>

                        <MatBody1>@repository.Description</MatBody1>
                    </div>

                    @*TODO: add icon-button*@
                    <MatButton class="col-md-2">X</MatButton>
                </MatNavItem>
            </NavLink>
        }
    </div>

    <MatButton Link=@LinkToPinCreating>Запинить</MatButton>
</div>

@code {

    [Parameter]
    public GuildProfileDto GuildProfile { get; set; }

    private string LinkToPinCreating => $"guild/{GuildProfile.Id}/create-pinned";
}